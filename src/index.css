/* Logo 字体（Google Fonts） */
@import url("https://fonts.googleapis.com/css2?family=Lily+Script+One&display=swap");
/* --- Tailwind runtime (必须在文件顶部) ---------------------------------- */
@tailwind base;
@tailwind components;
@tailwind utilities;
/* 专用于 Logo 的字体，覆盖全局 MapleMono */
.logo-script {
  font-family: "Lily Script One", var(--stack-sans) !important;
  font-weight: 400;
  letter-spacing: .2px;
}


/* --- Fonts: Maple Mono (仅覆盖 ASCII；其它文字回退到无衬线) -------------- */
@font-face {
  font-family: "MapleMonoAscii";
  src:
    url("/fonts/MapleMono/MapleMono-Regular.woff2") format("woff2"),
    url("https://cdn.jsdelivr.net/gh/subframe7536/maple-font/MapleMono/MapleMono-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
  /* Basic Latin + General Punctuation + Arrows */
  unicode-range: U+0000-00FF, U+2000-206F, U+2190-21FF;
}
@font-face {
  font-family: "MapleMonoAscii";
  src:
    url("/fonts/MapleMono/MapleMono-Bold.woff2") format("woff2"),
    url("https://cdn.jsdelivr.net/gh/subframe7536/maple-font/MapleMono/MapleMono-Bold.woff2") format("woff2");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
  unicode-range: U+0000-00FF, U+2000-206F, U+2190-21FF;
}

/* --- Global font stacks -------------------------------------------------- */
:root{
  --stack-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, "Noto Sans", "PingFang SC", "Hiragino Sans GB",
    "Microsoft YaHei", "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji";
  --stack-latin-mono: "MapleMonoAscii", ui-monospace, SFMono-Regular, Menlo,
    Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  /* —— Amicus 亮色主题变量（改这些值即可全站换色） —— */
  /* 基础 */
  --ami-bg:        #F8F8F7; /* 页面背景 */
  --ami-surface:   #FFFFFF; /* 卡片/浮层/输入框 */
  --ami-border:    #EEEEEA; /* 边框/分割线 */
  --ami-text:      #1A1A19; /* 正文主文案 */
  --ami-subtle:    #6E6D68; /* 次要说明文字 */
  --ami-accent:    #000000; /* 主题强调色（按钮/链接 hover） */

  /* 扩展灰阶（用于更细的层次） */
  --ami-text-strong: #1A1A19; /* 标题/摘要 */
  --ami-muted-1:     #A4A3A1; /* 英文副文/较浅说明 */
  --ami-muted-2:     #A4A3A1; /* 分隔符/弱提示 */
  --ami-muted-3:     #A0A6B4; /* 占位/无图提示 */
  --ami-muted-4:     #B6BCC9; /* 序号/极弱信息 */

  /* 背景层次 & 骨架屏 */
  --ami-bg-soft-1: #FFFFFF; /* 内容浅底 */
  --ami-bg-soft-2: #F6F7FB; /* hover 背景/信息块 */
  --ami-skeleton:  #EDEFF4; /* 骨架屏基色 */

  /* 只保留亮色（表单/滚动条跟随） */
  color-scheme: light;
}

/* —— 全站字体：ASCII 走 MapleMono，其余自动回退无衬线 —— */
html, body, * { font-family: var(--stack-latin-mono), var(--stack-sans); }

/* —— 基础色绑定（无需改 JS 即可换色） —— */
html, body { background: var(--ami-bg); color: var(--ami-text); }
hr { border-color: var(--ami-border); }

/* 链接与交互（轻度强调） */
a { text-underline-offset: 2px; color: inherit; }
a:hover { color: var(--ami-accent); }

/* 选中文本高亮（仅亮色） */
::selection { background: rgba(0,0,0,.12); color: inherit; }

/* 媒体元素通用约束 */
img, svg, video, canvas { max-width: 100%; height: auto; }

/* 代码字形 */
pre, code, kbd, samp { font-family: var(--stack-latin-mono), monospace; }
pre { overflow: auto; }

/* 打印兜底（不影响屏幕显示） */
@media print {
  .no-print { display: none !important; }
  body { background: #fff; color: #000; }
}

/* --- Skeleton 骨架屏 ---------------------------------------------------- */
@keyframes ami-shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
.ami-skeleton {
  background: linear-gradient(90deg,
    var(--ami-skeleton) 0%,
    #f8f9fc 20%,
    var(--ami-skeleton) 40%
  );
  background-size: 200% 100%;
  animation: ami-shimmer 1.2s infinite linear;
}

/* --- Amicus 强制配色覆盖（Fallback；保证老的 Tailwind 类也吃到变量色） -- */
/* 放在文件底部以确保层叠优先级 */
[class~="bg-white"],
[class*="bg-white/"]{
  background-color: var(--ami-surface) !important;
}
/* 针对 bg-white/80 的更精准半透明效果（支持 color-mix 的浏览器） */
[class*="bg-white/80"]{
  background-color: color-mix(in srgb, var(--ami-surface) 80%, transparent) !important;
}
/* 降级：不支持 color-mix 的浏览器 */
@supports not (background-color: color-mix(in srgb, white 50%, black)) {
  [class*="bg-white/80"]{ background-color: rgba(255,255,255,.8) !important; }
}

/* 背景：中性色灰阶 */
[class~="bg-neutral-50"],  [class*="bg-neutral-50"]  { background-color: var(--ami-bg-soft-2) !important; }
[class~="bg-neutral-100"], [class*="bg-neutral-100"] { background-color: var(--ami-bg-soft-1) !important; }

/* 文字颜色：灰阶到正文 */
[class~="text-neutral-900"], [class*="text-neutral-900"] { color: var(--ami-text) !important; }
[class~="text-neutral-800"], [class*="text-neutral-800"] { color: var(--ami-text-strong) !important; }
[class~="text-neutral-700"], [class*="text-neutral-700"] { color: var(--ami-text-strong) !important; }
[class~="text-neutral-600"], [class*="text-neutral-600"] { color: var(--ami-muted-1) !important; }
[class~="text-neutral-500"], [class*="text-neutral-500"] { color: var(--ami-subtle) !important; }
[class~="text-neutral-400"], [class*="text-neutral-400"] { color: var(--ami-muted-2) !important; }
[class~="text-neutral-300"], [class*="text-neutral-300"] { color: var(--ami-muted-1) !important; }

/* 边框/分割线 */
[class~="border-neutral-200"], [class*="border-neutral-200"] { border-color: var(--ami-border) !important; }
[class~="border-neutral-300"], [class*="border-neutral-300"] { border-color: var(--ami-border) !important; }
hr{ border-color: var(--ami-border) !important; }

/* 占位符颜色（搜索框等） */
[class*="placeholder\:text-neutral-400"]::placeholder{ color: var(--ami-muted-2) !important; }

/* 悬停浅灰（hover:bg-neutral-50） */
[class*="hover\:bg-neutral-50"]:hover{ background-color: var(--ami-bg-soft-2) !important; }

/* 如果代码里有硬编码十六进制，顺手兜底（可按需删减） */
[class*="bg-\\[\\#F4F6FA\\]"]{ background-color: var(--ami-bg-soft-1) !important; }
[class*="bg-\\[\\#F6F7FB\\]"]{ background-color: var(--ami-bg-soft-2) !important; }
[class*="border-\\[\\#E6E8EC\\]"]{ border-color: var(--ami-border) !important; }
[class*="text-\\[\\#0B0F1A\\]"]{ color: var(--ami-text) !important; }

/* --- Logo 强制字体覆盖（放在文件最底部保证胜出） ---------------------- */
.logo-script,
.logo-script * {
  font-family: "Lily Script One", var(--stack-sans) !important;
  font-weight: 400 !important;
  letter-spacing: 0.2px;
}

/* 若元素上误用了 font-sans / font-mono 等，也强制覆盖 */
.logo-script.font-sans,
.logo-script.font-mono {
  font-family: "Lily Script One", var(--stack-sans) !important;
}
